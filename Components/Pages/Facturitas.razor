@page "/Facturitas"
@using FacturasWEB.Components.Data
@using FacturasWEB.Components.Servicios
@inject ServicioControlador Controlador
@inject NavigationManager NavigationManager
@rendermode InteractiveServer

<h3>Nueva Factura (Facturitas)</h3>

<div>
    <label>Nombre del Cliente:</label>
    <input />
</div>
<div>
    <label>Fecha:</label>
    <input type="date" />
</div>

<hr />

<div>
    <h4>Añadir Artículo</h4>
    <div>
        <label>Artículo:</label>
        <input @bind="nuevoArticulo.Nombre" placeholder="Nombre del articulo" />
    </div>
    <div>
        <label>Precio:</label>
        <input @bind="nuevoArticulo.Precio" type="number" step="0.5" min="0.1" />
    </div>
    <div>
        <label>Cantidad:</label>
        <input @bind="nuevoArticulo.Cantidad" type="number" min="1" placeholder="1" />
    </div>
    <button @onclick="agregarArticulo">Añadir ese articulo</button>
</div>
@code {
    private Articulo nuevoArticulo = new Articulo();
    private List<Articulo> articulos = new List<Articulo>();
    private async Task agregarArticulo()
    {
        if (!string.IsNullOrWhiteSpace(nuevoArticulo.Nombre))
        {
            articulos.Add(new Articulo
            {
                Nombre = nuevoArticulo.Nombre,
                Precio = nuevoArticulo.Precio,
                Cantidad = nuevoArticulo.Cantidad
            });
        }  
    }
}
<hr />

<h4>Artículos de la Factura</h4>

<ol>
    @code{}
    <li>
        <span>Coca-Cola 600ml</span> |
        <span>Precio: 18.50</span> |
        <span>Cantidad: 2</span> |
        <span>Subtotal: 37.00</span>
        <button>Eliminar</button>
    </li>
    <li>
        <span>Sabritas Fuego</span> |
        <span>Precio: 16.00</span> |
        <span>Cantidad: 1</span> |
        <span>Subtotal: 16.00</span>
        <button>Eliminar</button>
    </li>
</ol>

<div>
    <h4>Total: 53.00</h4>
    @* Este total se calculará dinámicamente *@
</div>

<hr />

<div>
    <button>Guardar la factura</button>
</div>